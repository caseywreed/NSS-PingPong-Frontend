<div ng-show="!$parent.dataCache.playerData" class="loadingDiv">
    P ... I ... N ... G ...
</div>

<div ng-show="$parent.dataCache.playerData" class="container" ng-init="init()" ng-controller="HomeCtrl">

    <form>
        <div class="form-inline">
            <h2>Leaderboard</h2>
            <div class="input-group">
            <div class="input-group-addon"><i class="fa fa-search"></i></div>
            <input type="text" class="form-control" placeholder="Search" ng-model="searchPlayer">
            </div>
        </div>
    </form>

    <table class="table table-bordered table-striped">
        <thead>
            <tr>
                <td>
                    <a href="#!/" ng-click="sortType = 'name'; sortReverse = !sortReverse">
                        Name
                        <span ng-show="sortType == 'name'" class="fa fa-caret-down"></span>
                    </a>
                </td>
                <td>
                    <a href="#!/" ng-click="sortType = 'cohort'; sortReverse = !sortReverse">
                        Cohort
                        <span ng-show="sortType == 'cohort'" class="fa fa-caret-down"></span>
                    </a>
                </td>
                <td>
                    <a href="#!/" ng-click="sortType = 'stats.games'; sortReverse = !sortReverse">
                        Games
                        <span ng-show="sortType == 'stats.games'" class="fa fa-caret-down"></span>
                    </a>
                </td>
                <td>
                    <a href="#!/" ng-click="sortType = 'stats.wins'; sortReverse = !sortReverse">
                        Wins
                        <span ng-show="sortType == 'stats.wins'" class="fa fa-caret-down"></span>
                    </a>
                </td>
                <td>
                    <a href="#!/" ng-click="sortType = 'stats.losses'; sortReverse = !sortReverse">
                        Losses
                        <span ng-show="sortType == 'stats.losses'" class="fa fa-caret-down"></span>
                    </a>
                </td>
                <td>
                    <a href="#!/" ng-click="sortType = 'stats.winPercentage'; sortReverse = !sortReverse">
                        Win Percentage
                        <span ng-show="sortType == 'stats.winPercentage'" class="fa fa-caret-down"></span>
                    </a>
                </td>
                <td>
                    <a href="#!/" ng-click="sortType = 'stats.singlesWinPercentage'; sortReverse = !sortReverse">
                        Singles Win Percentage
                        <span ng-show="sortType == 'stats.singlesWinPercentage'" class="fa fa-caret-down"></span>
                    </a>
                </td>
                <td>
                    <a href="#!/" ng-click="sortType = 'stats.doublesWinPercentage'; sortReverse = !sortReverse">
                        Doubles Win Percentage
                        <span ng-show="sortType == 'stats.doublesWinPercentage'" class="fa fa-caret-down"></span>
                    </a>
                </td>
                <td>
                    <a href="#!/" ng-click="sortType = 'stats.avgPointDiff'; sortReverse = !sortReverse">
                        Average Point Differential
                        <span ng-show="sortType == 'stats.avgPointDiff'" class="fa fa-caret-down"></span>
                    </a>
                </td>
                <td>
                    <a href="#!/" ng-click="sortType = 'stats.rating'; sortReverse = !sortReverse">
                        Rating
                        <span ng-show="sortType == 'stats.rating'" class="fa fa-caret-down"></span>
                    </a>
                </td>
            </tr>
        </thead>

        <tbody>
            <tr ng-repeat="p in $parent.dataCache.playerData | orderBy:sortType:sortReverse:customComparator | filter:searchPlayer">
                <td><a ng-href="#!/players/{{p.playerId}}">{{ p.lastName}}, {{ p.firstName }}</a></td>
                <td>{{ p.cohort | number}}</td>
                <td>{{ p.stats.games | number }}</td>
                <td>{{ p.stats.wins | number }}</td>
                <td>{{ p.stats.losses | number}}</td>
                <td>{{ p.stats.winPercentage | number}}</td>
                <td>{{ p.stats.singlesWinPercentage | number}}</td>
                <td>{{ p.stats.doublesWinPercentage | number}}</td>
                <td>{{ p.stats.avgPointDiff | number}}</td>
                <td>{{ p.stats.rating | number}}</td>
            </tr>
        </tbody>

    </table>

</div>
